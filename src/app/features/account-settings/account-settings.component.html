<main class="max-w-screen-maxCap mx-auto">
  <header>
    <h2 class="font-bold text-xl pb-12 px-12 pt-6 bg-[#fbfbfb]">Settings</h2>
    <nav mat-tab-nav-bar [tabPanel]="tabPanel" class="pl-[43px]">
      @for (link of navLinks; track link.label) {
      <a
        mat-tab-link
        (click)="activeLink = link"
        [active]="activeLink.label === link.label"
        [routerLink]="link.link"
      >
        <span [ngClass]="activeLink.label === link.label ? 'text-figma-green' : 'text-table-text'" class="font-inter ">{{ link.label }}</span></a
      >
      }
    </nav>
    <mat-tab-nav-panel #tabPanel>
      <section
        class="flex flex-col items-stretch divide-y justify-around gap-6 overflow-hidden md:grid md:grid-cols-7 md:divide-y-0 my-[121px]"
      >
        <div class="flex flex-col gap-4 items-center col-span-2 md:border-r">
          <app-user-profile-image />
          <div>
            <ng-container *ngIf="name$ | async as name">
              <p class="text-xl font-bold text-center">{{name.firstName}} {{name.lastName}}</p>
            </ng-container>
            <div class="flex flex-col gap-2">
              <button (click)="accountLogout()" class="text-sm underline"> logout </button>
              @if (isAdmin) {
                <button class="text-sm underline" routerLink="/admin/dashboard">Go to Admin Dashboard</button>
              }
            </div>
          </div>
          <button class="underline text-xs text-red-color">Delete Account</button>
        </div>
        <div class="col-span-5 ml-[46px] md:w-[80%]">
          <router-outlet />
        </div>
      </section>
    </mat-tab-nav-panel>
  </header>
</main>
